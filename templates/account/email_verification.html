{% extends "account/base.html" %}

{% load i18n %}
{% load crispy_forms_tags %}

{% block title %}{% trans "Verify Your Email" %} | {{ block.super }}{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">
            <div class="card border-0 shadow-lg">
                <div class="card-header bg-gradient-primary text-white text-center py-4">
                    <h2 class="mb-0">
                        <i class="fas fa-envelope-circle-check me-2"></i>
                        {% trans "Verify Your Email Address" %}
                    </h2>
                </div>
                <div class="card-body p-5">
                    <div class="text-center mb-5">
                        <div class="mb-4">
                            <i class="fas fa-envelope-open-text fa-5x text-primary"></i>
                        </div>
                        <h3 class="mb-3">{% trans "Almost There!" %}</h3>
                        <p class="lead">{% trans "We've sent a verification email to:" %}</p>
                        <div class="alert alert-info d-inline-block">
                            <i class="fas fa-at me-2"></i>
                            <strong>{{ email }}</strong>
                        </div>
                    </div>

                    <div class="verification-steps mb-5">
                        <div class="d-flex align-items-start mb-4">
                            <div class="me-3">
                                <span class="badge bg-primary rounded-circle d-flex align-items-center justify-content-center" style="width: 32px; height: 32px;">1</span>
                            </div>
                            <div>
                                <h5 class="mb-1">{% trans "Check Your Inbox" %}</h5>
                                <p class="mb-0 text-muted">{% trans "Look for an email from Debsploit Solutions with the subject 'Verify Your Email Address'" %}</p>
                            </div>
                        </div>
                        <div class="d-flex align-items-start mb-4">
                            <div class="me-3">
                                <span class="badge bg-primary rounded-circle d-flex align-items-center justify-content-center" style="width: 32px; height: 32px;">2</span>
                            </div>
                            <div>
                                <h5 class="mb-1">{% trans "Click the Verification Link" %}</h5>
                                <p class="mb-0 text-muted">{% trans "The email contains a button or link to verify your email address" %}</p>
                            </div>
                        </div>
                        <div class="d-flex align-items-start">
                            <div class="me-3">
                                <span class="badge bg-primary rounded-circle d-flex align-items-center justify-content-center" style="width: 32px; height: 32px;">3</span>
                            </div>
                            <div>
                                <h5 class="mb-1">{% trans "Complete Your Registration" %}</h5>
                                <p class="mb-0 text-muted">{% trans "You'll be automatically redirected once verification is complete" %}</p>
                            </div>
                        </div>
                    </div>

                    <div class="troubleshooting-section mt-5">
                        <div class="card border-warning">
                            <div class="card-header bg-warning bg-opacity-10 text-warning">
                                <i class="fas fa-question-circle me-2"></i>
                                {% trans "Didn't receive the email?" %}
                            </div>
                            <div class="card-body">
                                <ol class="mb-4">
                                    <li class="mb-2">{% trans "Check your spam or junk folder" %}</li>
                                    <li class="mb-2">{% trans "Wait 5-10 minutes - sometimes emails are delayed" %}</li>
                                    <li class="mb-2">{% trans "Make sure you entered the correct email address" %}</li>
                                    <li>{% trans "Add noreply@debsploitsolutions.com to your contacts" %}</li>
                                </ol>
                                
                                <form method="post" action="{% url 'account_email' %}" class="d-inline">
                                    {% csrf_token %}
                                    <button type="submit" name="action_send" class="btn btn-outline-primary me-2">
                                        <i class="fas fa-paper-plane me-2"></i> {% trans "Resend Verification Email" %}
                                    </button>
                                </form>
                                
                                <a href="mailto:support@debsploitsolutions.com" class="btn btn-outline-secondary">
                                    <i class="fas fa-headset me-2"></i> {% trans "Contact Support" %}
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-light text-center py-3">
                    <p class="mb-0">
                        <a href="{% url 'core:home' %}" class="text-decoration-none">
                            <i class="fas fa-arrow-left me-1"></i> {% trans "Return to Homepage" %}
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .verification-steps {
        border-left: 3px solid var(--primary-light);
        padding-left: 1.5rem;
        margin-left: 1rem;
    }
    
    .badge.bg-primary {
        font-size: 0.875rem;
    }
</style>
{% endblock %}